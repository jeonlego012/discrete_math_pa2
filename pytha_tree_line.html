<html>

<body>
<input type="text" id="depth" value="">
<button onclick="doDraw()">Draw</button>
<button onclick="doClear()">Clear</button>
<br>
<canvas id="canvas" width="640" height="640"></canvas>

<script type="text/javascript">
    var elem = document.getElementById('canvas');
    var context = elem.getContext('2d');
    context.fillStyle = '#000';
    context.lineWidth = 1;

   function drawTree(x1, y1, x2, y2, depth) {
        if(depth!=0){
            var dx = x2 - x1;
            var dy = y1 - y2;

            var x3 = x2 - dy;
            var y3 = y2 - dx;
            var x4 = x1 - dy;
            var y4 = y1 - dx;
            var x5 = x4 + 0.65*(dx-dy);
            var y5 = y4 - 0.5*(dx+dy);

            context.beginPath();
            context.moveTo(x1, y1);
            context.lineTo(x2, y2);
            context.lineTo(x3, y3);
            context.lineTo(x4, y4);
            context.closePath();

            context.stroke();

            context.beginPath();
            context.moveTo(x3, y3);
            context.lineTo(x4, y4);
            context.lineTo(x5, y5);
            context.closePath();

            context.stroke();

            drawTree(x4, y4, x5, y5, depth-1);
            drawTree(x5, y5, x3, y3, depth-1);
            
        }
        
        
    }
    
    function doDraw() {
        var depth = parseInt(document.getElementById("depth").value);
        drawTree(275, 500, 375, 500, depth);
    }
    function doClear() {
        context.clearRect(0, 0, canvas.width, canvas.height) ;
    }
</script>

</body>
</html>
